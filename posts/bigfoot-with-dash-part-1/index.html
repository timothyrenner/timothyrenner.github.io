<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Finding Bigfoot with Dash, Part 1 | Timothy Renner</title><meta name=keywords content><meta name=description content="Building a map of Bigfoot sightings with Plotly&rsquo;s Dash framwork.
Part 1: Map
Part 2: Plots
Part 3: Interactions
Warning
I wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.
In particular, the Dash Bootstrap Components library replaces the manually set CSS classes and works really well."><meta name=author content="Timothy Renner"><link rel=canonical href=https://timothyrenner.github.io/posts/bigfoot-with-dash-part-1/><link crossorigin=anonymous href=/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://timothyrenner.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://timothyrenner.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://timothyrenner.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://timothyrenner.github.io/apple-touch-icon.png><link rel=mask-icon href=https://timothyrenner.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Finding Bigfoot with Dash, Part 1"><meta property="og:description" content="Building a map of Bigfoot sightings with Plotly&rsquo;s Dash framwork.
Part 1: Map
Part 2: Plots
Part 3: Interactions
Warning
I wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.
In particular, the Dash Bootstrap Components library replaces the manually set CSS classes and works really well."><meta property="og:type" content="article"><meta property="og:url" content="https://timothyrenner.github.io/posts/bigfoot-with-dash-part-1/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-08-08T00:00:00+00:00"><meta property="article:modified_time" content="2017-08-08T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Finding Bigfoot with Dash, Part 1"><meta name=twitter:description content="Building a map of Bigfoot sightings with Plotly&rsquo;s Dash framwork.
Part 1: Map
Part 2: Plots
Part 3: Interactions
Warning
I wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.
In particular, the Dash Bootstrap Components library replaces the manually set CSS classes and works really well."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://timothyrenner.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Finding Bigfoot with Dash, Part 1","item":"https://timothyrenner.github.io/posts/bigfoot-with-dash-part-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Finding Bigfoot with Dash, Part 1","name":"Finding Bigfoot with Dash, Part 1","description":"Building a map of Bigfoot sightings with Plotly\u0026rsquo;s Dash framwork.\nPart 1: Map\nPart 2: Plots\nPart 3: Interactions\nWarning\nI wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.\nIn particular, the Dash Bootstrap Components library replaces the manually set CSS classes and works really well.","keywords":[],"articleBody":"Building a map of Bigfoot sightings with Plotly’s Dash framwork.\nPart 1: Map\nPart 2: Plots\nPart 3: Interactions\nWarning\nI wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.\nIn particular, the Dash Bootstrap Components library replaces the manually set CSS classes and works really well. Plotly Express makes generating the map easier too.\nNot too long ago, Plotly announced a new open source framework for Python-based web applications called Dash (announcement letter). It’s a framework in the vein of R’s Shiny, with the key advantage being that it isn’t R. Considering my recent efforts to make one million dollars by finding Bigfoot had stalled, I figured it was as good a time as any to take this framework for a spin and try to make bank.\nHere’s what I want to build: an application that shows various highly critical and important visualizations and statistics about sasquatch sightings, with the added ability to filter the sightings based on words I think might help me narrow down the search to relevant areas. Here’s what the final thing will look like:\nBasically it’ll be four plots - a map of the geolocated sightings, a line/scatter plot of sightings over time, a bar plot of sightings by day of week, and a donut chart (totally not a bar chart) of the percentage of sightings for each sighting class. The magic will be in the search bar, which will filter the titles of the sightings based on the text you put into it.\nI’ve broken this into three parts: the first part will load the data, make a map, and initialize the server. The second part will be to add the additional plots with a more complex layout, and the third part will be adding the title filter bar and the associated interactions.\nIt’s highly recommended that you read the awesome Dash user guide before going through this. I’m going to assume you’re familiar with the HTML and core components, specifically the graphs. The purpose of this series of posts is to walk through a real app example rather than introduce the Dash framework itself, which the official docs already do a great job of. I’ll probably spend some time going over the plot semantics because the docs for Dash and Plotly aren’t particularly consistent in that regard, but if it’s obvious I’m not going to explain it.\nSetup We’re going to need some prerequisites installed. Generally the best idea is to do this in a Python or Anaconda virtual environment. These are the installations for Dash:\npip install dash pip install dash_renderer pip install dash_core_components pip install dash_html_components pip install plotly In addition to those, we’ll also install a couple of things that will help us with the data:\npip install toolz pip install python-dotenv Toolz is probably the single most useful Python library I’ve used - once you get used to it, it’s indispensable. Python-dotenv is a library that makes reading .env files easier - we’ll use it when we make the map, as Plotly’s map plot requires an API key from Mapbox.\nI’ll start by creating my directory like so:\napp.py .env data/ I’ll get the data, which is a geocoded list of Bigfoot Field Researchers Organization (BFRO) verified Bigfoot sightings, from data.world and put it in data/bfro_report_locations.csv.\nApp Initialization We’ve got the data, so it needs to be loaded into the app. This could be done with a pandas data frame, but I actually like the model of a list of dictionaries a bit better for this application. The semantics are cleaner, and performance really isn’t an issue - most of the time will be spent on the client rendering all of the plots, not filtering a 3000 element list.\nfrom csv import DictReader fin = open('data/bfro_report_locations.csv', 'r') reader = DictReader(fin) BFRO_LOCATION_DATA = [ line for line in reader ] fin.close() The sightings do have some odd times in there, so in a later post I’ll go back and add a conditional to that comprehension. For now, I’ll leave it.\nInitializing the app itself is basically the same as Flask.\nimport dash app = dash.Dash() # Title the app. app.title = \"Bigfoot Sightings\" Layout The “front-end” components of the app - the ones that get turned into the DOM in the browser - live in the layout property. Before building that out, I’ll need to load a few CSS and Javascript dependencies. Because I’m a total amateur at CSS I’m going to use Bootstrap’s grid system.\n# Boostrap CSS. app.css.append_css({ \"external_url\": \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" }) # Extra Dash styling. app.css.append_css({ \"external_url\": 'https://codepen.io/chriddyp/pen/bWLwgP.css' }) # JQuery is required for Bootstrap. app.scripts.append_script({ \"external_url\": \"https://code.jquery.com/jquery-3.2.1.min.js\" }) # Bootstrap Javascript. app.scripts.append_script({ \"external_url\": \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" }) If you want to know the details of how Bootstrap’s grid system works, the documentation is excellent. Basically the only part that isn’t self explanatory in this code is that columns are 12 units across, and different column classes subdivide it.\nimport dash_html_components as html import dash_core_components as dcc app.layout = html.Div([ # Column: Title + Map html.Div([ # Row: Title html.Div([ html.H1(\"Bigfoot Sightings\", className=\"text-center\") ], className=\"row\"), # Row: Map html.Div([ dcc.Graph(id=\"bigfoot-map\") ], className=\"row\") ], className=\"col-md-12\") ], className=\"container-fluid\") At the moment, the layout doesn’t actually have anything in it - I’ll need to write a function that makes the map and modify the layout slightly once it’s done.\nThe Map One of the things that makes Plotly unique is its declarative plot building semantics. The plotly.graph_objs module has wrapper classes for all of the plots, but honestly I think it’s a lot simpler to build them as dictionaries. For this app, each plot’s going to be built with a function that returns a dictionary that roughly looks like the following:\n{ \"data\": [ { # Data, plot type, etc. } ], \"layout\": { # Titles, axes, etc. } } Each function is going to take a list of dictionaries and return the dictionary that builds the plot. Before we build that function we need to add our Mapbox key to the environment. My favorite way of doing this is to use the python-dotenv module and put it in a .env file. Obviously .env should not be in version control. I’ll put the mapbox key in the .env file as follows:\nMAPBOX_KEY=my_mapbox_key Then, in the app (preferably near the top before any functions are built):\nfrom dotenv import find_dotenv, load_dotenv import os # Loads the dotenv file into the environment. This exposes the variables in that # file as though they were actual environment variables to the os module. load_dotenv(find_dotenv()) MAPBOX_KEY = os.environ.get(\"MAPBOX_KEY\") Now we’re ready to make the plot building function. It’s a bit long, but it’s pretty simple. The only real action is basically a groupby - the rest is just populating the dict that will define the plot.\nfrom toolz import groupby, compose, pluck # pluck returns a generator, so compose it with list to materialize it. listpluck = compose(list, pluck) def bigfoot_map(sightings): # groupby returns a dictionary mapping the values of the first field # 'classification' onto a list of record dictionaries with that # classification value. classifications = groupby('classification', sightings) return { \"data\": [ { \"type\": \"scattermapbox\", \"lat\": listpluck(\"latitude\", class_sightings), \"lon\": listpluck(\"longitude\", class_sightings), \"text\": listpluck(\"title\", class_sightings), \"mode\": \"markers\", \"name\": classification, \"marker\": { \"size\": 3, \"opacity\": 1.0 } } for classification, class_sightings in classifications.items() ], \"layout\": { \"autosize\": True, \"hovermode\": \"closest\", \"mapbox\": { \"accesstoken\": MAPBOX_KEY, \"bearing\": 0, \"center\": { \"lat\": 40, \"lon\": -98.5 }, \"pitch\": 0, \"zoom\": 2, \"style\": \"outdoors\" } } } The data is a list of three dictionaries - in Plotly parlance these are called “traces”. Essentially they define a group of points, in our case the grouping is done by the classification - Class A (direct sighting), Class B (indirect sighting), or Class C (hearsay, basically). Each trace gets its own color assigned to it by Plotly. The plot type is also important: \"scattermapbox\" says this is a set of points projected onto a Mapbox tiling system. It requires “lat” and “lon” instead of x and y, which we get from using pluck. That function walks over a sequence and applies some accessor (could be an index or a dictionary key) to it, returning a generator. I composed list and pluck (pluck first, then turn the generator into a list) because Plotly needs a list, then extracted the “latitude” and “longitude” field from the sightings list with it. I also added the title to the text field so we can see the titles when we hover over the points.\nThe Mapbox specific options are in the mapbox field of the layout - they’re pretty self explanatory and the Plotly docs are awesome at explaining what these do, though you might need to flip to the PlotlyJS Javascript version. As expected, the data structure described in PlotlyJS docs maps perfectly to the Python dictionary version - no need for objects.\nNow that we’ve got our function we need to wire that into the actual layout. Going back to the layout, we just need to add the call:\napp.layout = html.Div([ # Column: Title + Map html.Div([ # Row: Title html.Div([ html.H1(\"Bigfoot Sightings\", className=\"text-center\") ], className=\"row\"), # Row: Map html.Div([ dcc.Graph( id=\"bigfoot-map\", ############### NEW CODE ############# figure=bigfoot_map(BFRO_LOCATION_DATA) ###################################### ) ], className=\"row\") ], className=\"col-md-12\") ], className=\"container-fluid\") Run It We’ve got everything we need: data, layout and plot. The final piece to get this thing up and running is to start the server.\nif __name__ == \"__main__\": app.run_server(debug=True) After that, start it up in the shell:\npython app.py You should see that it starts a server at localhost:8050. If you go there, you’ll see\nOne step closer to making that million.\nConclusion, Part 1 In this post I walked through the high level structure of a Dash app. We read in the data, built a layout, create a plot-returning function for the map, and constructed the server. We’ve still got a ways to go - check out the upcoming part 2 for a more sophisticated layout with additional plots and the upcoming part 3 for an interactive search bar.\nIf you’re impatient, the full source code for everything is already on GitHub.\nHead on over to part 2 and check out more plots with a more interesting layout.\n","wordCount":"1725","inLanguage":"en","datePublished":"2017-08-08T00:00:00Z","dateModified":"2017-08-08T00:00:00Z","author":{"@type":"Person","name":"Timothy Renner"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://timothyrenner.github.io/posts/bigfoot-with-dash-part-1/"},"publisher":{"@type":"Organization","name":"Timothy Renner","logo":{"@type":"ImageObject","url":"https://timothyrenner.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://timothyrenner.github.io/ accesskey=h title="Timothy Renner (Alt + H)">Timothy Renner</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://timothyrenner.github.io/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://timothyrenner.github.io/about/ title=About><span>About</span></a></li><li><a href=https://timothyrenner.github.io/movies/ title=Movies><span>Movies</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Finding Bigfoot with Dash, Part 1</h1><div class=post-meta><span title='2017-08-08 00:00:00 +0000 UTC'>August 8, 2017</span>&nbsp;·&nbsp;Timothy Renner</div></header><div class=post-content><p>Building a map of Bigfoot sightings with Plotly&rsquo;s Dash framwork.</p><p><strong><a href=https://timothyrenner.github.io/posts/bigfoot-with-dash-part-1/>Part 1: Map</a></strong></p><p><em><a href=https://timothyrenner.github.io/posts/bigfoot-with-dash-part-2/>Part 2: Plots</a></em></p><p><em><a href=https://timothyrenner.github.io/posts/bigfoot-with-dash-part-3/>Part 3: Interactions</a></em></p><br><style type=text/css>.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media(prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div><svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg></div><div class="notice warning"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#warning-notice"/></svg></span>Warning</p><p>I wrote this when Plotly Dash was brand new. Though the fundamental process and setup is the same, some of the details are quite a bit simpler now than they were when I wrote this.</p><p>In particular, the <a href=https://dash-bootstrap-components.opensource.faculty.ai/>Dash Bootstrap Components</a> library replaces the manually set CSS classes and works really well. <a href=https://plotly.com/python/mapbox-layers/>Plotly Express</a> makes generating the map easier too.</p></div><p>Not too long ago, Plotly announced a new open source framework for Python-based web applications called <a href=https://plot.ly/products/dash/>Dash</a> (<a href=https://medium.com/@plotlygraphs/introducing-dash-5ecf7191b503>announcement letter</a>).
It&rsquo;s a framework in the vein of R&rsquo;s <a href=https://shiny.rstudio.com/>Shiny</a>, with the key advantage being that it isn&rsquo;t R.
Considering my <a href=https://timothyrenner.github.io/datascience/2017/06/30/finding-bigfoot.html>recent efforts</a> to make <a href=http://www.wtae.com/article/the-hunt-for-bigfoot-in-crawford-county-pennsylvania/10227215>one million dollars by finding Bigfoot</a> had stalled, I figured it was as good a time as any to take this framework for a spin and try to make bank.</p><p>Here&rsquo;s what I want to build: an application that shows various <em>highly critical and important</em> visualizations and statistics about sasquatch sightings, with the added ability to filter the sightings based on words I think might help me narrow down the search to relevant areas.
Here&rsquo;s what the final thing will look like:</p><p><img src="{{ site.url }}/images/finding-bigfoot-with-dash/bigfoot_dash_final.png" style=height:100%;width:100%></p><p>Basically it&rsquo;ll be four plots - a map of the geolocated sightings, a line/scatter plot of sightings over time, a bar plot of sightings by day of week, and a donut chart (<em>totally not</em> a bar chart) of the percentage of sightings for each sighting class.
The magic will be in the search bar, which will filter the titles of the sightings based on the text you put into it.</p><p>I&rsquo;ve broken this into three parts: the first part will load the data, make a map, and initialize the server.
The second part will be to add the additional plots with a more complex layout, and the third part will be adding the title filter bar and the associated interactions.</p><p>It&rsquo;s <em><strong>highly recommended</strong></em> that you read the awesome <a href=https://plot.ly/dash/>Dash user guide</a> before going through this.
I&rsquo;m going to assume you&rsquo;re familiar with the HTML and core components, specifically the graphs.
The purpose of this series of posts is to walk through a real app example rather than introduce the Dash framework itself, which the official docs already do a great job of.
I&rsquo;ll probably spend some time going over the plot semantics because the docs for Dash and Plotly aren&rsquo;t particularly consistent in that regard, but if it&rsquo;s obvious I&rsquo;m not going to explain it.</p><h2 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h2><p>We&rsquo;re going to need some prerequisites installed.
Generally the best idea is to do this in a Python or Anaconda virtual environment.
These are the installations for Dash:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>pip install dash
</span></span><span style=display:flex><span>pip install dash_renderer
</span></span><span style=display:flex><span>pip install dash_core_components
</span></span><span style=display:flex><span>pip install dash_html_components
</span></span><span style=display:flex><span>pip install plotly
</span></span></code></pre></div><p>In addition to those, we&rsquo;ll also install a couple of things that will help us with the data:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>pip install toolz
</span></span><span style=display:flex><span>pip install python-dotenv
</span></span></code></pre></div><p><a href=http://toolz.readthedocs.io/en/latest/api.html>Toolz</a> is probably the single most useful Python library I&rsquo;ve used - once you get used to it, it&rsquo;s indispensable.
Python-dotenv is a library that makes reading <code>.env</code> files easier - we&rsquo;ll use it when we make the map, as Plotly&rsquo;s map plot requires an API key from <a href=https://www.mapbox.com/>Mapbox</a>.</p><p>I&rsquo;ll start by creating my directory like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>app.py
</span></span><span style=display:flex><span>.env
</span></span><span style=display:flex><span>data/
</span></span></code></pre></div><p>I&rsquo;ll get the data, which is a geocoded list of <a href=http://www.bfro.net/>Bigfoot Field Researchers Organization (BFRO)</a> verified Bigfoot sightings, from <a href=https://data.world/timothyrenner/bfro-sightings-data>data.world</a> and put it in <code>data/bfro_report_locations.csv</code>.</p><h2 id=app-initialization>App Initialization<a hidden class=anchor aria-hidden=true href=#app-initialization>#</a></h2><p>We&rsquo;ve got the data, so it needs to be loaded into the app.
This <em>could</em> be done with a pandas data frame, but I actually like the model of a list of dictionaries a bit better for this application.
The semantics are cleaner, and performance really isn&rsquo;t an issue - most of the time will be spent on the client rendering all of the plots, not filtering a 3000 element list.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> csv <span style=color:#f92672>import</span> DictReader
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fin <span style=color:#f92672>=</span> open(<span style=color:#e6db74>&#39;data/bfro_report_locations.csv&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>)
</span></span><span style=display:flex><span>reader <span style=color:#f92672>=</span> DictReader(fin)
</span></span><span style=display:flex><span>BFRO_LOCATION_DATA <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    line <span style=color:#66d9ef>for</span> line <span style=color:#f92672>in</span> reader
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>fin<span style=color:#f92672>.</span>close()
</span></span></code></pre></div><p>The sightings do have some odd times in there, so in a later post I&rsquo;ll go back and add a conditional to that comprehension.
For now, I&rsquo;ll leave it.</p><p>Initializing the app itself is basically the same as Flask.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> dash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app <span style=color:#f92672>=</span> dash<span style=color:#f92672>.</span>Dash()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Title the app.</span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>title <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Bigfoot Sightings&#34;</span>
</span></span></code></pre></div><h2 id=layout>Layout<a hidden class=anchor aria-hidden=true href=#layout>#</a></h2><p>The &ldquo;front-end&rdquo; components of the app - the ones that get turned into the DOM in the browser - live in the <code>layout</code> property.
Before building that out, I&rsquo;ll need to load a few CSS and Javascript dependencies.
Because I&rsquo;m a total amateur at CSS I&rsquo;m going to use <a href=http://getbootstrap.com/>Bootstrap</a>&rsquo;s grid system.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Boostrap CSS.</span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>css<span style=color:#f92672>.</span>append_css({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;external_url&#34;</span>: <span style=color:#e6db74>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&#34;</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Extra Dash styling.</span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>css<span style=color:#f92672>.</span>append_css({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;external_url&#34;</span>: <span style=color:#e6db74>&#39;https://codepen.io/chriddyp/pen/bWLwgP.css&#39;</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># JQuery is required for Bootstrap.</span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>scripts<span style=color:#f92672>.</span>append_script({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;external_url&#34;</span>: <span style=color:#e6db74>&#34;https://code.jquery.com/jquery-3.2.1.min.js&#34;</span>
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bootstrap Javascript.</span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>scripts<span style=color:#f92672>.</span>append_script({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;external_url&#34;</span>: <span style=color:#e6db74>&#34;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&#34;</span>
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>If you want to know the details of how Bootstrap&rsquo;s grid system works, the <a href=http://getbootstrap.com/css/#grid>documentation</a> is excellent.
Basically the only part that isn&rsquo;t self explanatory in this code is that columns are 12 units across, and different column classes subdivide it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> dash_html_components <span style=color:#66d9ef>as</span> html
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> dash_core_components <span style=color:#66d9ef>as</span> dcc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app<span style=color:#f92672>.</span>layout <span style=color:#f92672>=</span> html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>    <span style=color:#75715e># Column: Title + Map</span>
</span></span><span style=display:flex><span>    html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>        <span style=color:#75715e># Row: Title</span>
</span></span><span style=display:flex><span>        html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>            html<span style=color:#f92672>.</span>H1(<span style=color:#e6db74>&#34;Bigfoot Sightings&#34;</span>, className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>)
</span></span><span style=display:flex><span>        ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#75715e># Row: Map</span>
</span></span><span style=display:flex><span>        html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>            dcc<span style=color:#f92672>.</span>Graph(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bigfoot-map&#34;</span>)
</span></span><span style=display:flex><span>        ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>)
</span></span><span style=display:flex><span>    ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col-md-12&#34;</span>)
</span></span><span style=display:flex><span>], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>)
</span></span></code></pre></div><p>At the moment, the layout doesn&rsquo;t actually have anything in it - I&rsquo;ll need to write a function that makes the map and modify the layout slightly once it&rsquo;s done.</p><h2 id=the-map>The Map<a hidden class=anchor aria-hidden=true href=#the-map>#</a></h2><p>One of the things that makes Plotly unique is its declarative plot building semantics.
The <code>plotly.graph_objs</code> module has wrapper classes for all of the plots, but honestly I think it&rsquo;s a lot simpler to build them as dictionaries.
For this app, each plot&rsquo;s going to be built with a function that returns a dictionary that roughly looks like the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;data&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#75715e># Data, plot type, etc.</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;layout&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#75715e># Titles, axes, etc.</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Each function is going to take a list of dictionaries and return the dictionary that builds the plot.
Before we build that function we need to add our Mapbox key to the environment.
My favorite way of doing this is to use the <code>python-dotenv</code> module and put it in a <code>.env</code> file.
Obviously <code>.env</code> should <em>not</em> be in version control.
I&rsquo;ll put the mapbox key in the <code>.env</code> file as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>MAPBOX_KEY=my_mapbox_key
</span></span></code></pre></div><p>Then, in the app (preferably near the top before any functions are built):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> dotenv <span style=color:#f92672>import</span> find_dotenv, load_dotenv
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Loads the dotenv file into the environment. This exposes the variables in that</span>
</span></span><span style=display:flex><span><span style=color:#75715e># file as though they were actual environment variables to the os module.</span>
</span></span><span style=display:flex><span>load_dotenv(find_dotenv())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>MAPBOX_KEY <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;MAPBOX_KEY&#34;</span>)
</span></span></code></pre></div><p>Now we&rsquo;re ready to make the plot building function.
It&rsquo;s a bit long, but it&rsquo;s pretty simple.
The only real action is basically a <code>groupby</code> - the rest is just populating the dict that will define the plot.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> toolz <span style=color:#f92672>import</span> groupby, compose, pluck
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># pluck returns a generator, so compose it with list to materialize it.</span>
</span></span><span style=display:flex><span>listpluck <span style=color:#f92672>=</span> compose(list, pluck)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>bigfoot_map</span>(sightings):
</span></span><span style=display:flex><span>    <span style=color:#75715e># groupby returns a dictionary mapping the values of the first field </span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># &#39;classification&#39; onto a list of record dictionaries with that </span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># classification value.</span>
</span></span><span style=display:flex><span>    classifications <span style=color:#f92672>=</span> groupby(<span style=color:#e6db74>&#39;classification&#39;</span>, sightings)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;data&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;scattermapbox&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;lat&#34;</span>: listpluck(<span style=color:#e6db74>&#34;latitude&#34;</span>, class_sightings),
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;lon&#34;</span>: listpluck(<span style=color:#e6db74>&#34;longitude&#34;</span>, class_sightings),
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;text&#34;</span>: listpluck(<span style=color:#e6db74>&#34;title&#34;</span>, class_sightings),
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;mode&#34;</span>: <span style=color:#e6db74>&#34;markers&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;name&#34;</span>: classification,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;marker&#34;</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#e6db74>&#34;size&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>                        <span style=color:#e6db74>&#34;opacity&#34;</span>: <span style=color:#ae81ff>1.0</span>
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> classification, class_sightings <span style=color:#f92672>in</span> classifications<span style=color:#f92672>.</span>items()
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;layout&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;autosize&#34;</span>: <span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;hovermode&#34;</span>: <span style=color:#e6db74>&#34;closest&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;mapbox&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;accesstoken&#34;</span>: MAPBOX_KEY,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;bearing&#34;</span>: <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;center&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;lat&#34;</span>: <span style=color:#ae81ff>40</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#34;lon&#34;</span>: <span style=color:#f92672>-</span><span style=color:#ae81ff>98.5</span>
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;pitch&#34;</span>: <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;zoom&#34;</span>: <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;style&#34;</span>: <span style=color:#e6db74>&#34;outdoors&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>The data is a list of three dictionaries - in Plotly parlance these are called &ldquo;traces&rdquo;.
Essentially they define a group of points, in our case the grouping is done by the classification - Class A (direct sighting), Class B (indirect sighting), or Class C (hearsay, basically).
Each trace gets its own color assigned to it by Plotly.
The plot <code>type</code> is also important: <code>"scattermapbox"</code> says this is a set of points projected onto a Mapbox tiling system.
It requires &ldquo;lat&rdquo; and &ldquo;lon&rdquo; instead of x and y, which we get from using <code>pluck</code>.
That function walks over a sequence and applies some accessor (could be an index or a dictionary key) to it, returning a generator.
I composed <code>list</code> and <code>pluck</code> (pluck first, then turn the generator into a list) because Plotly needs a list, then extracted the &ldquo;latitude&rdquo; and &ldquo;longitude&rdquo; field from the sightings list with it.
I also added the title to the <code>text</code> field so we can see the titles when we hover over the points.</p><p>The Mapbox specific options are in the <code>mapbox</code> field of the layout - they&rsquo;re pretty self explanatory and the Plotly docs are awesome at explaining what these do, though you might need to flip to the PlotlyJS Javascript version.
As expected, the data structure described in PlotlyJS docs maps perfectly to the Python dictionary version - no need for objects.</p><p>Now that we&rsquo;ve got our function we need to wire that into the actual layout.
Going back to the layout, we just need to add the call:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>app<span style=color:#f92672>.</span>layout <span style=color:#f92672>=</span> html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>    <span style=color:#75715e># Column: Title + Map</span>
</span></span><span style=display:flex><span>    html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>        <span style=color:#75715e># Row: Title</span>
</span></span><span style=display:flex><span>        html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>            html<span style=color:#f92672>.</span>H1(<span style=color:#e6db74>&#34;Bigfoot Sightings&#34;</span>, className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>)
</span></span><span style=display:flex><span>        ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#75715e># Row: Map</span>
</span></span><span style=display:flex><span>        html<span style=color:#f92672>.</span>Div([
</span></span><span style=display:flex><span>            dcc<span style=color:#f92672>.</span>Graph(
</span></span><span style=display:flex><span>                id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bigfoot-map&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#75715e>############### NEW CODE #############</span>
</span></span><span style=display:flex><span>                figure<span style=color:#f92672>=</span>bigfoot_map(BFRO_LOCATION_DATA)
</span></span><span style=display:flex><span>                <span style=color:#75715e>######################################    </span>
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>)
</span></span><span style=display:flex><span>    ], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col-md-12&#34;</span>)
</span></span><span style=display:flex><span>], className<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>)
</span></span></code></pre></div><h2 id=run-it>Run It<a hidden class=anchor aria-hidden=true href=#run-it>#</a></h2><p>We&rsquo;ve got everything we need: data, layout and plot.
The final piece to get this thing up and running is to start the server.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    app<span style=color:#f92672>.</span>run_server(debug<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span></code></pre></div><p>After that, start it up in the shell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>python app.py
</span></span></code></pre></div><p>You should see that it starts a server at <code>localhost:8050</code>.
If you go there, you&rsquo;ll see</p><figure><img loading=lazy src=/bigfoot-with-dash-part-1/bigfoot_dash_map_only.png></figure><p>One step closer to making that million.</p><h2 id=conclusion-part-1>Conclusion, Part 1<a hidden class=anchor aria-hidden=true href=#conclusion-part-1>#</a></h2><p>In this post I walked through the high level structure of a Dash app.
We read in the data, built a layout, create a plot-returning function for the map, and constructed the server.
We&rsquo;ve still got a ways to go - check out the upcoming part 2 for a more sophisticated layout with additional plots and the upcoming part 3 for an interactive search bar.</p><p>If you&rsquo;re impatient, the full source code for everything is already on <a href=https://github.com/timothyrenner/bigfoot-dash-app>GitHub</a>.</p><p>Head on over to <a href=https://timothyrenner.github.io/posts/bigfoot-with-dash-part-2/>part 2</a> and check out more plots with a more interesting layout.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://timothyrenner.github.io/>Timothy Renner</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>